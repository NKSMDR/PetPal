{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">


<!--Constant Css for base-->
<link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="{% static 'css/components/navbarstyle.css' %}">
<link rel="stylesheet" href="{% static 'css/components/footer.css' %}">


  <meta charset="UTF-8">
  <title>{% block title %}PetBuddy ‚Ä¢ Your Pet World üêæ{% endblock %}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {% load django_browser_reload %}
  {% django_browser_reload_script %}
  
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Bootstrap  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- Chat component CSS -->
  <link rel="stylesheet" href="{% static 'css/components/chat.css' %}">

  <!-- Page-specific CSS -->
  {% block extra_css %}{% endblock %}


</head>
<body {% if user.is_authenticated %}data-user-id="{{ user.id }}"{% endif %}>

{% include 'includes/navbar.html' %}

<!-- Global chat modal available on all pages -->
{% include 'includes/chat_modal.html' %}


<!-- ‚úÖ Content -->
{% block content %}



{% endblock %}


{% include 'includes/footer.html' %}

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Global Cart Management -->
<script src="{% static 'js/cart.js' %}"></script>

<!-- Global Chat (AJAX polling skeleton) -->
<script src="{% static 'js/chat.js' %}"></script>

<script>
// Clear cart on logout
(function() {
    // Check if logout flag is set
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf('clear_cart=true') === 0) {
            console.log('Logout detected - clearing cart');
            if (typeof CartManager !== 'undefined') {
                CartManager.clearCart();
            }
            // Clear the cookie
            document.cookie = 'clear_cart=; max-age=0; path=/';
            break;
        }
    }
})();

<!-- Page-specific JS -->
{% block extra_js %}{% endblock %}

</body>
</html>